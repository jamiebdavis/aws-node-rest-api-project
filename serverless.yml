service: aws-node-rest-api-project

frameworkVersion: "2"

provider:
    name: aws
    runtime: nodejs12.x
    lambdaHashingVersion: "20201221"
    region: eu-west-2

functions:
    hello:
        handler: src/hello.handler
        events:
            - http:
                  path: /
                  method: get

    addTodo:
        handler: src/addTodo.handler
        events:
            - http:
                  path: /
                  method: get

    fetchTodo:
        handler: src/fetchTodo.handler
        events:
            - http:
                  path: /
                  method: get

    fetchTodos:
        handler: src/fetchTodos.handler
        events:
            - http:
                  path: /
                  method: get

    updateTodo:
        handler: src/updateTodo.handler
        events:
            - http:
                  path: /
                  method: get

resources:
    Resources:
        TodoTable:
            Type: AWS::DynamoDB::Table
            Properties:
                TableName: TodoTable
                BillingMode: PAY_PER_REQUEST
                AttributeDefinitions:
                    - AttributeName: id
                      AttributeType: S
                KeySchema:
                    - AttributeName: id
                      KeyType: HASH
